(this.webpackJsonpjsassignment=this.webpackJsonpjsassignment||[]).push([[0],{60:function(e,t,n){"use strict";n.r(t);var a=n(35),c=n(45),r=n(29),o=n.n(r),s=n(37),i=n(25),u=n(10),l=n(0),j=n(8),h=n.n(j),p=n(92),f=n(97),d=n(95),b=n(96),m=n(89),g=Object(m.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function O(e){var t=e.onInputChange,n=e.onSearch,a=e.locationText,c=g();return Object(u.jsx)("div",{children:Object(u.jsx)(p.a,{fixed:!0,children:Object(u.jsxs)(f.a,{fullWidth:!0,children:[Object(u.jsx)(d.a,{className:c.textField,label:"Place",onChange:t,value:a}),Object(u.jsx)(b.a,{onClick:n,color:"primary",children:"Search"})]})})})}function x(e){var t=e.options,n=e.onMount,c=e.className,r=e.onMountProps,o=Object(l.useRef)(),s=Object(l.useState)(),j=Object(i.a)(s,2),h=j[0],f=j[1];return Object(l.useEffect)((function(){var e=function(){return f(new window.google.maps.Map(o.current,t))};if(!window.google){var n=document.createElement("script");return n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-WvSjRaa4wrDpHz7p2UH3yMp1F_n2K4Q",document.head.append(n),n.addEventListener("load",e),function(){return n.removeEventListener("load",e)}}e()}),[t]),h&&"function"===typeof n&&n(h,r),Object(u.jsx)("div",{children:Object(u.jsx)(p.a,{fixed:!0,children:Object(u.jsx)("div",Object(a.a)({style:{height:"60vh",margin:"1em 0",borderRadius:"0.5em"}},{ref:o,className:c}))})})}x.defaultProps={options:{center:{lat:22,lng:-100},zoom:4}};var v=n(94);function w(){var e=Object(l.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],j=Object(l.useState)([]),h=Object(i.a)(j,2),f=h[0],d=h[1],b=Object(l.useState)({lat:22,lon:-100}),m=Object(i.a)(b,2),g=m[0],w=m[1],k=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://nominatim.openstreetmap.org/?format=json&limit=1",'&country="').concat(n)).then((function(e){return e.json()})).then((function(e){w(e[0]),S(e[0].boundingbox)})).catch((function(e){console.log(e),alert("Error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://api.geonames.org/earthquakesJSON?username=rsanchez006&maxRows=10","&south=").concat(t[0],"&north=").concat(t[1],"&west=").concat(t[2],"&east=").concat(t[3])).then((function(e){return e.json()})).then((function(e){d(Object(c.a)(e.earthquakes))})).catch((function(e){console.log(e),alert("Error quakes")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var y={options:{center:{lat:Number(g.lat),lng:Number(g.lon)},zoom:4},onMount:function(e,t){t.forEach((function(t,n){new window.google.maps.Marker({map:e,position:{lat:t.lat,lng:t.lng},label:"".concat(n+1),title:t.datetime})}))},onMountProps:f};return Object(u.jsxs)("div",{children:[Object(u.jsx)(p.a,{fixed:!0,children:Object(u.jsx)(v.a,{variant:"h3",children:"Search earthquakes"})}),Object(u.jsx)(O,{onInputChange:function(e){r(e.target.value)},onSearch:k,locationText:n}),Object(u.jsx)("div",{children:Object(u.jsx)(x,Object(a.a)({},y))})]})}h.a.render(Object(u.jsx)(w,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.1b42056b.chunk.js.map